<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>姓名案例_watch实现</title>
        <script src="../js/vue.js" type="text/javascript"></script>
    </head>
    <body>
        <!--
            computed和watch之间的区别:
                1. computed能完成的功能,watch都能完成
                2. watch能完成的功能,computed不能完成,例如:watch可以进行异步操作
            两个重要的小原则:
                1. 所有被Vue管理的函数,最好写成普通函数,这样this的指向才是vm或组件实例对象
                2. 所有不被Vue管理的函数(定时器的回调函数、ajax的回调函数等、Promise的回调函数)，最好写成箭头函数，
                    这样this的指向才是当前的vm或组件实例对象
        -->
        <div id="root">
            姓：<input type="text" v-model="firstName"> <br/><br/>
            名：<input type="text" v-model="lastName"> <br/><br/>
            全名：<span>{{fullName}}</span> <br/><br/>
        </div>
    </body>

    <script type="text/javascript">
        Vue.config.productionTip = false;   //阻止 vue 在启动时生成生产提示。

        new Vue({
            el: '#root',
            data: {
                firstName: '小',
                lastName: '明',
                fullName: '小-明'
            },
            watch: {
                firstName(newVal) {
                    this.fullName = newVal + '-' + this.lastName;
                    // setTimeout(() => {
                    //     console.log(this)
                    //     this.fullName = newVal + '-' + this.lastName;
                    // }, 1000); 
                },
                lastName(newVal) {
                    this.fullName = this.firstName + '-' + newVal;
                }
            }
        });
    </script>
</html>